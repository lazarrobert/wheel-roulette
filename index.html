<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spin the Wheel</title>
    <style>
        body { text-align: center; font-family: Arial, sans-serif; }
        canvas { border: 5px solid #333; }
        button { margin-top: 20px; padding: 10px 20px; font-size: 18px; }
    </style>
</head>
<body>
    <h2>Spin the Wheel & Win Rewards!</h2>
    <canvas id="wheelCanvas" width="300" height="300"></canvas>
    <br>
    <button onclick="spinWheel()">Spin</button>
    <p id="result"></p>

    <script>
        const canvas = document.getElementById("wheelCanvas");
        const ctx = canvas.getContext("2d");
        const segments = ["100 Coins", "50 Coins", "Try Again", "200 Coins", "500 Coins", "Mystery Prize"];
        const colors = ["#ffcc00", "#ff6600", "#ff3300", "#cc33ff", "#3399ff", "#33cc33"];
        let spinning = false;

        function drawWheel() {
            const centerX = canvas.width / 2, centerY = canvas.height / 2, radius = 140;
            let angle = 0;
            for (let i = 0; i < segments.length; i++) {
                ctx.beginPath();
                ctx.fillStyle = colors[i];
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, angle, angle + (2 * Math.PI / segments.length));
                ctx.fill();
                ctx.stroke();
                ctx.fillStyle = "#000";
                ctx.font = "16px Arial";
                ctx.fillText(segments[i], centerX + Math.cos(angle + Math.PI / segments.length) * 100 - 20, 
                    centerY + Math.sin(angle + Math.PI / segments.length) * 100 + 5);
                angle += 2 * Math.PI / segments.length;
            }
        }

        function spinWheel() {
            if (spinning) return;
            spinning = true;
            let spinTime = 3000;
            let randomAngle = Math.random() * 360 + 1440; 
            let start = Date.now();

            function animate() {
                let elapsed = Date.now() - start;
                if (elapsed < spinTime) {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    ctx.save();
                    ctx.translate(canvas.width / 2, canvas.height / 2);
                    ctx.rotate((randomAngle * (elapsed / spinTime)) * Math.PI / 180);
                    ctx.translate(-canvas.width / 2, -canvas.height / 2);
                    drawWheel();
                    ctx.restore();
                    requestAnimationFrame(animate);
                } else {
                    spinning = false;
                    let finalAngle = randomAngle % 360;
                    let winningIndex = Math.floor(finalAngle / (360 / segments.length));
                    document.getElementById("result").innerText = "You won: " + segments[winningIndex];
                }
            }
            animate();
        }

        drawWheel();
    </script>
</body>
</html>

